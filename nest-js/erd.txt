# Visualize on https://erd.surge.sh
# or https://quick-erd.surge.sh
#
# Relationship Types
#  -    - one to one
#  -<   - one to many
#  >-   - many to one
#  >-<  - many to many
#  -0   - one to zero or one
#  0-   - zero or one to one
#  0-0  - zero or one to zero or one
#  -0<  - one to zero or many
#  >0-  - zero or many to one
#
////////////////////////////////////


meal_food_item
--------------
sugar_g numeric
meal_id integer FK >- meal_input_record.id
id integer PK
calories numeric
serving_size_g numeric
fat_total_g numeric
fat_saturated_g numeric
protein_g numeric
sodium_mg numeric
potassium_mg numeric
cholesterol_mg numeric
carbohydrates_total_g numeric
fiber_g numeric
name string
saved_size_unit string


user_relationship
-----------------
id integer PK
advisor integer FK >- user.id
client integer FK >- user.id
client_invite boolean
accepted boolean
rejected_reason string NULL


role_registration
-----------------
id integer PK
user_id integer FK >- user.id
profession string


calendar_event
--------------
end_date date
alert boolean
user_id integer FK >- user.id
id integer PK
start_date date
information string NULL
event_type string


text_message
------------
id integer PK
relationship_id integer FK >- user_relationship.id
from integer
sent_at timestamp
read_at timestamp
message string


exercise_history
----------------
id integer PK
user_id integer FK >- user.id
event_datetime timestamp
burnt_calories numeric
event_name string


user
----
id integer PK
email string unique
username string
password string
weight number
height number
target string
avatar string

meal_input_record
-----------------
id integer PK
date_of_meal date
user_id integer FK >- user.id
meal_time string

workout
-------
id integer PK
slug varchar(100) unique
title text
href text
cover_image text


workout_day
-----------
id integer PK
workout_id integer FK >0- workout.id
title text
headers jsonb
rows jsonb

mealplan
--------
id integer PK
slug varchar(100) unique
title text
href text
cover_image text

mealplan_day
------------
id
mealplan_id integer FK 
name text
cover_image text

meal_content
------------
id
mealplan_day_id FK
name text
calories integer
foods jsonb

chatroom_message
---------
id
user_id FK >0- user.id
question text
answer text
created_at timestamp


personal_target_input
---------
id
user_id Fk>0- user.id
target_type text
weight_target decimal
start_date date
expected_date date




# zoom: 0.896
# view: (-80, 60)
# text-bg: #6495ed
# text-color: #000000
# diagram-bg: #f5f5f5
# diagram-text: #f5f5f5
# table-bg: #ffffff
# table-text: #000000
# meal_food_item (15, 456)
# user_relationship (1418, 246)
# role_registration (1420, 537)
# calendar_event (103, 197)
# text_message (1172, 89)
# exercise_history (590, 166)
# user (969, 400)
# meal_input_record (565, 625)
# table (823, 878)
# scrapped_website (776, 668)
# row_info (1100, 760)
# workout (358, 879)
# workout_day (-11, 883)
# mealplan (696, 953)
# mealplan_day (421, 1169)
# meal_content (-31, 1115)
# chatroom_message (1394, 722)
# personal_target_input (879, 43)